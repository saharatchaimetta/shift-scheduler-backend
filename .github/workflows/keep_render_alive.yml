name: Keep Render Alive

on:
  schedule:
    - cron: "*/5 * * * *"  # üîÅ ‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ (UTC)
  workflow_dispatch:        # ‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î ‚ÄúRun workflow‚Äù ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢

jobs:
  ping:
    runs-on: ubuntu-latest

    steps:
      - name: Ping FastAPI to keep Render awake
        run: |
          response=$(curl -s -o /dev/null -w "%{http_code}" https://line-bot-shift.onrender.com/)
          echo "Response code: $response"
          if [ "$response" -ne 200 ]; then
            echo "‚ùå API is not responding properly"
            exit 1
          fi
